{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nclass PanierService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = 'http://127.0.0.1:8000'; // Remplacez par l'URL de votre API\n    this.panierItems = []; //Ajouter avec //\n  }\n\n  ajouterAuPanier(produit, quantite) {\n    return this.http.post(`${this.apiUrl}/panier/add`, {\n      'id': produit.id,\n      quantite\n    });\n  }\n  supprimerDuPanier(id) {\n    return this.http.delete(`${this.apiUrl}/panier/delete/${id}`);\n  }\n  getProduitsPanier() {\n    return this.http.get(`${this.apiUrl}/panier`);\n  }\n  //\n  produitDansPanier(produit) {\n    return this.panierItems.some(item => item.produit.id === produit.id);\n  }\n  getNombreProduitsPanier() {\n    return this.panierItems.length;\n  }\n  prixPanier() {\n    let total = 0;\n    for (const item of this.panierItems) {\n      total += item.produit.price * item.quantite;\n    }\n    return parseFloat(total.toFixed(2));\n  }\n}\nPanierService.ɵfac = function PanierService_Factory(t) {\n  return new (t || PanierService)(i0.ɵɵinject(i1.HttpClient));\n};\nPanierService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PanierService,\n  factory: PanierService.ɵfac,\n  providedIn: 'root'\n});\nexport { PanierService };","map":{"version":3,"names":["PanierService","constructor","http","apiUrl","panierItems","ajouterAuPanier","produit","quantite","post","id","supprimerDuPanier","delete","getProduitsPanier","get","produitDansPanier","some","item","getNombreProduitsPanier","length","prixPanier","total","price","parseFloat","toFixed","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\HP\\OneDrive\\Bureau\\shopinside2\\shopinside\\Front_end\\shopinsid\\src\\app\\services\\panier.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Produit } from '../models/produit.model';\r\nimport { ProduitPanier } from '../models/produitPanier.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PanierService {\r\n  private apiUrl = 'http://127.0.0.1:8000'; // Remplacez par l'URL de votre API\r\n  panierItems: ProduitPanier[] = []; //Ajouter avec //\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  ajouterAuPanier(produit: Produit, quantite: number): Observable<any> {\r\n    return this.http.post(`${this.apiUrl}/panier/add`, { 'id': produit.id, quantite });\r\n  }\r\n\r\n  supprimerDuPanier(id: string): Observable<any> {\r\n    return this.http.delete(`${this.apiUrl}/panier/delete/${id}`);\r\n  }\r\n\r\n  getProduitsPanier(): Observable<any[]> {\r\n    return this.http.get<any[]>(`${this.apiUrl}/panier`);\r\n  }\r\n\r\n  //\r\n  produitDansPanier(produit: Produit): boolean {\r\n    return this.panierItems.some(item => item.produit.id === produit.id);\r\n  }\r\n\r\n  getNombreProduitsPanier(): number {\r\n    return this.panierItems.length;\r\n  }\r\n\r\n  prixPanier(): number {\r\n    let total = 0;\r\n\r\n    for (const item of this.panierItems) {\r\n      total += item.produit.price * item.quantite;\r\n    }\r\n\r\n    return parseFloat(total.toFixed(2));\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n"],"mappings":";;AAMA,MAGaA,aAAa;EAIxBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAHhB,KAAAC,MAAM,GAAG,uBAAuB,CAAC,CAAC;IAC1C,KAAAC,WAAW,GAAoB,EAAE,CAAC,CAAC;EAEK;;EAExCC,eAAeA,CAACC,OAAgB,EAAEC,QAAgB;IAChD,OAAO,IAAI,CAACL,IAAI,CAACM,IAAI,CAAC,GAAG,IAAI,CAACL,MAAM,aAAa,EAAE;MAAE,IAAI,EAAEG,OAAO,CAACG,EAAE;MAAEF;IAAQ,CAAE,CAAC;EACpF;EAEAG,iBAAiBA,CAACD,EAAU;IAC1B,OAAO,IAAI,CAACP,IAAI,CAACS,MAAM,CAAC,GAAG,IAAI,CAACR,MAAM,kBAAkBM,EAAE,EAAE,CAAC;EAC/D;EAEAG,iBAAiBA,CAAA;IACf,OAAO,IAAI,CAACV,IAAI,CAACW,GAAG,CAAQ,GAAG,IAAI,CAACV,MAAM,SAAS,CAAC;EACtD;EAEA;EACAW,iBAAiBA,CAACR,OAAgB;IAChC,OAAO,IAAI,CAACF,WAAW,CAACW,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACV,OAAO,CAACG,EAAE,KAAKH,OAAO,CAACG,EAAE,CAAC;EACtE;EAEAQ,uBAAuBA,CAAA;IACrB,OAAO,IAAI,CAACb,WAAW,CAACc,MAAM;EAChC;EAEAC,UAAUA,CAAA;IACR,IAAIC,KAAK,GAAG,CAAC;IAEb,KAAK,MAAMJ,IAAI,IAAI,IAAI,CAACZ,WAAW,EAAE;MACnCgB,KAAK,IAAIJ,IAAI,CAACV,OAAO,CAACe,KAAK,GAAGL,IAAI,CAACT,QAAQ;;IAG7C,OAAOe,UAAU,CAACF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC,CAAC;EACrC;;AAnCWvB,aAAa,C;mBAAbA,aAAa,EAAAwB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAb3B,aAAa,C;SAAbA,aAAa;EAAA4B,OAAA,EAAb5B,aAAa,CAAA6B,IAAA;EAAAC,UAAA,EAFZ;AAAM;SAEP9B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}